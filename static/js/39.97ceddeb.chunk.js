"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[39],{852:function(e,n,t){function r(e,n,t,r,i,c,a){try{var o=e[c](a),u=o.value}catch(s){return void t(s)}o.done?n(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(i,c){var a=e.apply(n,t);function o(e){r(a,i,c,o,u,"next",e)}function u(e){r(a,i,c,o,u,"throw",e)}o(void 0)}))}}t.d(n,{h_:function(){return p},mJ:function(){return h},y:function(){return v},X4:function(){return s},Bt:function(){return x}});var c=t(687),a=t.n(c),o="https://api.themoviedb.org/3/",u="0fa5981d55037b4698e315d74908e1b9";function s(){return l.apply(this,arguments)}function l(){return(l=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(o,"trending/all/day?api_key=").concat(u)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=i(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(o,"movie/").concat(n,"?api_key=").concat(u)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return d.apply(this,arguments)}function d(){return(d=i(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(o,"search/movie?api_key=").concat(u,"&query=").concat(n)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return j.apply(this,arguments)}function j(){return(j=i(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(o,"movie/").concat(n,"/credits?api_key=").concat(u,"&language=en-US")).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return m.apply(this,arguments)}function m(){return(m=i(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(o,"movie/").concat(n,"/reviews?api_key=").concat(u,"&language=en-US")).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},39:function(e,n,t){t.r(n);var r=t(439),i=t(791),c=t(689),a=t(852),o=t(87),u=t(652),s=t(924),l=t(184);n.default=function(){var e,n,t=(0,c.UO)().id,p=(0,i.useState)({}),f=(0,r.Z)(p,2),h=f[0],d=f[1],v=(0,i.useState)("idle"),j=(0,r.Z)(v,2),x=j[0],m=j[1],g=(0,i.useState)(null),w=(0,r.Z)(g,2),_=w[0],y=w[1],b=(0,c.TH)(),k=(0,i.useRef)(null!==(e=null===(n=b.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/home");(0,i.useEffect)((function(){m("pending"),(0,a.h_)(t).then((function(e){var n=e.poster_path,t=e.release_date,r=e.original_title,i=e.overview,c=e.vote_average,a=e.genres;d({poster_path:n,release_date:t,original_title:r,overview:i,vote_average:c,genres:a}),m("resolved")})).catch((function(e){return y(e)})),_&&m("rejected")}),[t,_]);return"idle"===x?(0,l.jsx)(l.Fragment,{}):"pending"===x?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.Z,{})}):"resolved"===x?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsx)(o.rU,{to:k.current,children:"Go Back"})}),(0,l.jsxs)("div",{children:[h.original_title?(0,l.jsx)("img",{alt:h.original_title,src:"https://image.tmdb.org/t/p/w500".concat(h.poster_path)}):(0,l.jsx)("img",{src:u,alt:"not available"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{children:[h.original_title," ",function(e){var n=new Date(e);return"Invalid Date"===n?"Sorry, we dont have any date for you :(":n?n.getFullYear():void 0}(h.release_date)]}),(0,l.jsxs)("p",{children:["User Score: ",~~(10*h.vote_average),"%"]}),(0,l.jsx)("p",{children:"Overview"}),(0,l.jsx)("p",{children:h.overview}),(0,l.jsx)("p",{children:"Genres"}),(0,l.jsx)("p",{children:function(e){if(e)return e.map((function(e){return e.name})).join(", ")}(h.genres)})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)(o.rU,{to:"cast",children:(0,l.jsx)("button",{children:"Cast"})})}),(0,l.jsx)("li",{children:(0,l.jsx)(o.rU,{to:"reviews",children:(0,l.jsx)("button",{children:"Reviews"})})})]}),(0,l.jsx)(c.j3,{})]})]}):"idle"===x?(0,l.jsx)(l.Fragment,{}):void 0}},652:function(e,n,t){e.exports=t.p+"static/media/no-poster-available.7555b15218a0f4733bf7.jpg"}}]);
//# sourceMappingURL=39.97ceddeb.chunk.js.map